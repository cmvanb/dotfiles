#-------------------------------------------------------------------------------
# Sway key mappings
#
# See sway-bindsym(5) for keysym documentation
#-------------------------------------------------------------------------------

# Mod key
#-------------------------------------------------------------------------------

set $mod Mod4

# System mappings
#-------------------------------------------------------------------------------

# Lock sway
bindsym $mod+Shift+z exec hyprlock

# Exit sway
bindsym $mod+Shift+w exit

# Reload sway configuration
bindsym $mod+Shift+r reload, exec $config_dir/sway/refresh.sh

# Shortcut mappings
#-------------------------------------------------------------------------------

# Run menu
bindsym $mod+Return exec $LAUNCHER

# New terminal
bindsym $mod+t exec spawn-terminal.sh

# New floating terminal
bindsym $mod+g exec spawn-terminal.sh --floating

# New terminal in a directory
bindsym $mod+Shift+t exec open-terminal-cwd.sh

# Browser
bindsym $mod+b exec $BROWSER

# Browser session
bindsym $mod+Shift+b exec open-qutebrowser-session.sh

# Process manager
bindsym $mod+m exec spawn-terminal.sh --command btop

# Toggle waybar
bindsym $mod+r exec toggle-waybar.sh

# Dismiss all notifications
bindsym $mod+y exec makoctl dismiss -a

# Take screenshot of a selected rectangle
bindsym $mod+p exec screenshot-rectangle.sh
bindsym $mod+Shift+p exec screenshot-rectangle.sh --upload

# Window mappings
#-------------------------------------------------------------------------------

# Toggle window float
bindsym $mod+Space floating toggle

# Toggle window fullscreen
bindsym $mod+f fullscreen toggle

# Close window
bindsym $mod+w kill

# Change focus
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+h focus left
bindsym $mod+l focus right

# Move the focused window up/down
bindsym $mod+Control+j move down
bindsym $mod+Control+k move up

# Move the focused window left/right
bindsym $mod+Control+h move left
bindsym $mod+Control+l move right

# TODO: fix this
# Move windows with mouse
bindsym --whole-window $mod+button1 move

# TODO: fix this
# Resize windows with mouse
bindsym --whole-window $mod+button3 resize

# Close window with middle mouse button
bindsym --whole-window $mod+button2 kill

# Resize (floating) window
bindsym $mod+Shift+d resize shrink height 100px
bindsym $mod+Shift+f resize grow height 100px
bindsym $mod+Shift+g resize grow width 200px
bindsym $mod+Shift+s resize shrink width 200px

# Move (floating) window
bindsym $mod+Control+d move up 100px
bindsym $mod+Control+f move down 100px
bindsym $mod+Control+g move right 200px
bindsym $mod+Control+s move left 200px

# Workspace mappings
#-------------------------------------------------------------------------------

# Cycle focused workspaces
bindsym $mod+Shift+h exec sway-workspace prev-on-output
bindsym $mod+Shift+l exec sway-workspace next-on-output

# Focus workspaces numerically (display-aware)
bindsym $mod+1 exec $config_dir/sway/sws.sh focus 1
bindsym $mod+2 exec $config_dir/sway/sws.sh focus 2
bindsym $mod+3 exec $config_dir/sway/sws.sh focus 3
bindsym $mod+4 exec $config_dir/sway/sws.sh focus 4
bindsym $mod+5 exec $config_dir/sway/sws.sh focus 5
bindsym $mod+6 exec $config_dir/sway/sws.sh focus 6
bindsym $mod+7 exec $config_dir/sway/sws.sh focus 7
bindsym $mod+8 exec $config_dir/sway/sws.sh focus 8
bindsym $mod+9 exec $config_dir/sway/sws.sh focus 9
bindsym $mod+0 exec $config_dir/sway/sws.sh focus 10

# Send window to workspace (display-aware)
bindsym $mod+Control+1 exec $config_dir/sway/sws.sh move 1
bindsym $mod+Control+2 exec $config_dir/sway/sws.sh move 2
bindsym $mod+Control+3 exec $config_dir/sway/sws.sh move 3
bindsym $mod+Control+4 exec $config_dir/sway/sws.sh move 4
bindsym $mod+Control+5 exec $config_dir/sway/sws.sh move 5
bindsym $mod+Control+6 exec $config_dir/sway/sws.sh move 6
bindsym $mod+Control+7 exec $config_dir/sway/sws.sh move 7
bindsym $mod+Control+8 exec $config_dir/sway/sws.sh move 8
bindsym $mod+Control+9 exec $config_dir/sway/sws.sh move 9
bindsym $mod+Control+0 exec $config_dir/sway/sws.sh move 10

# Layout mappings
#-------------------------------------------------------------------------------

# Adjust split ratio (resize focused container)
bindsym $mod+Shift+equal resize grow width 5 ppt
bindsym $mod+minus resize shrink width 5 ppt
